<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Commande de LÃ©gumes</title>
    <script src="script-client.js" defer></script>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <!-- Header principal -->
    <header class="hero-section">
      <div class="logo-section">
        <img
          src="/public/img/logo.webp"
          alt="Logo La Ferme du Chat Noir"
          class="farm-logo"
        />
        <div class="hero-text">
          <h1>ğŸ± La Ferme du Chat Noir</h1>
          <p class="hero-subtitle">
            LÃ©gumes biologiques cultivÃ©s avec passion depuis 3 gÃ©nÃ©rations
          </p>
          <div class="certifications">
            <img
              src="/public/img/logo_bio.webp"
              alt="Certification Agriculture Biologique"
              class="bio-logo"
            />
            <span class="bio-text">CertifiÃ© Agriculture Biologique</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Section histoire de la ferme -->
    <section class="farm-story">
      <div class="story-content">
        <div class="story-text">
          <h2>ğŸ¾ Notre Histoire</h2>
          <p>
            FondÃ©e en 1952 par grand-pÃ¨re Marcel et son fidÃ¨le compagnon FÃ©lix,
            un chat noir qui donnera son nom Ã  notre ferme, notre exploitation
            familiale s'Ã©tend sur 25 hectares dans les collines verdoyantes de
            la rÃ©gion. Depuis trois gÃ©nÃ©rations, nous cultivons nos lÃ©gumes
            selon les mÃ©thodes de l'agriculture biologique, dans le respect de
            la terre et des saisons.
          </p>
          <p>
            Aujourd'hui, c'est avec la mÃªme passion et toujours accompagnÃ©s de
            nos chats de ferme que nous perpÃ©tuons cette tradition. Nous vous
            proposons des lÃ©gumes fraÃ®chement rÃ©coltÃ©s, sans pesticides ni
            engrais chimiques, certifiÃ©s Agriculture Biologique. Chaque matin,
            nous sÃ©lectionnons pour vous les plus beaux produits de notre
            potager.
          </p>
          <div class="farm-stats">
            <div class="stat">
              <strong>25ha</strong>
              <span>de terres cultivÃ©es</span>
            </div>
            <div class="stat">
              <strong>50+</strong>
              <span>variÃ©tÃ©s de lÃ©gumes</span>
            </div>
            <div class="stat">
              <strong>100%</strong>
              <span>certifiÃ© bio</span>
            </div>
          </div>
        </div>
        <div class="story-image">
          <img
            src="/public/img/concombre.webp"
            alt="Notre chat noir mascotte de la ferme"
          />
          <p class="image-caption">
            Votre agriculteur, passionnÃ© et dÃ©vouÃ©, veille sur chaque rÃ©colte.
          </p>
        </div>
      </div>
    </section>

    <!-- Section valeurs -->
    <section class="values-section">
      <h2>ğŸŒ¿ Nos Valeurs</h2>
      <div class="values-grid">
        <div class="value-card">
          <div class="value-icon">ğŸŒ±</div>
          <h3>Bio & Naturel</h3>
          <p>
            Certification AB, culture sans pesticides, respect des cycles
            naturels
          </p>
        </div>
        <div class="value-card">
          <div class="value-icon">ğŸšš</div>
          <h3>FraÃ®cheur Garantie</h3>
          <p>
            RÃ©colte du matin, livraison le jour mÃªme pour une fraÃ®cheur optimale
          </p>
        </div>
        <div class="value-card">
          <div class="value-icon">ğŸ¤</div>
          <h3>Circuit Court</h3>
          <p>Direct producteur, prix juste, soutien Ã  l'agriculture locale</p>
        </div>
        <div class="value-card">
          <div class="value-icon">ğŸŒ</div>
          <h3>Ã‰co-Responsable</h3>
          <p>
            Pratiques durables, emballages recyclables, rÃ©duction de l'empreinte
            carbone
          </p>
        </div>
      </div>
    </section>
    <h1>ğŸ“¦ Commandez vos lÃ©gumes</h1>

    <section id="stock-section">
      <h2>LÃ©gumes disponibles</h2>
      <ul id="liste-stock"></ul>
    </section>

    <section>
      <h2>Formulaire de commande</h2>
      <form id="form-commande">
        <label for="produit">LÃ©gume :</label>
        <select id="produit" required></select>

        <label for="quantite">QuantitÃ© :</label>
        <input type="number" id="quantite" min="1" required />

        <button type="submit">Ajouter Ã  la commande</button>
      </form>
    </section>

    <section>
      <h2>ğŸ§¾ Commande en cours</h2>
      <table border="1">
        <thead>
          <tr>
            <th>Produit</th>
            <th>QuantitÃ©</th>
            <th>UnitÃ©</th>
            <th>Prix</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="table-commandes"></tbody>
      </table>
    </section>
    <input type="text" id="nom-client" placeholder="Votre nom" required />

    <div>
      <button id="valider-commande">âœ… Valider la commande</button>
      <button id="vider-panier">ğŸ§¹ Vider le panier</button>
    </div>

    <div id="message"></div>
    <!-- Ã€ ajouter avant la fermeture de </body> dans index.html -->
    <!-- Ã€ ajouter avant la fermeture de </body> dans index.html -->

    <!-- Footer avec lien admin -->
    <footer
      style="
        text-align: center;
        margin-top: 40px;
        padding: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
      "
    >
      <a
        href="admin.html"
        id="admin-link"
        style="
          color: rgba(255, 255, 255, 0.7);
          text-decoration: none;
          font-size: 0.9rem;
          transition: color 0.3s ease;
        "
      >
        ğŸ”§ AccÃ¨s administrateur
      </a>
    </footer>

    <!-- Modal de connexion admin -->
    <div
      id="admin-modal"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        animation: fadeIn 0.3s ease;
      "
    >
      <div
        style="
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: white;
          padding: 40px;
          border-radius: 15px;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
          min-width: 300px;
          text-align: center;
          animation: slideIn 0.4s ease;
        "
      >
        <h3 style="margin-bottom: 25px; color: #2c3e50; font-size: 1.5rem">
          ğŸ” Connexion Administrateur
        </h3>

        <div style="margin-bottom: 20px">
          <input
            type="password"
            id="admin-password"
            placeholder="Mot de passe administrateur"
            style="
              width: 100%;
              padding: 15px;
              border: 2px solid #bdc3c7;
              border-radius: 8px;
              font-size: 1rem;
              margin-bottom: 15px;
              transition: border-color 0.3s ease;
            "
          />
        </div>

        <div style="display: flex; gap: 10px; justify-content: center">
          <button
            id="admin-login"
            style="
              background: linear-gradient(135deg, #27ae60, #2ecc71);
              color: white;
              border: none;
              padding: 12px 25px;
              border-radius: 8px;
              cursor: pointer;
              font-weight: 600;
              transition: all 0.3s ease;
            "
          >
            âœ… Connexion
          </button>

          <button
            id="admin-cancel"
            style="
              background: linear-gradient(135deg, #e74c3c, #c0392b);
              color: white;
              border: none;
              padding: 12px 25px;
              border-radius: 8px;
              cursor: pointer;
              font-weight: 600;
              transition: all 0.3s ease;
            "
          >
            âŒ Annuler
          </button>
        </div>

        <div
          id="admin-error"
          style="
            margin-top: 15px;
            padding: 10px;
            background: #f8d7da;
            color: #721c24;
            border-radius: 5px;
            display: none;
            font-size: 0.9rem;
          "
        >
          âŒ Mot de passe incorrect
        </div>
      </div>
    </div>

    <style>
      /* Animations pour le modal */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translate(-50%, -60%);
        }
        to {
          opacity: 1;
          transform: translate(-50%, -50%);
        }
      }

      /* Effets hover sur les boutons du modal */
      #admin-login:hover {
        background: linear-gradient(135deg, #2ecc71, #27ae60);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
      }

      #admin-cancel:hover {
        background: linear-gradient(135deg, #c0392b, #a93226);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
      }

      #admin-link:hover {
        color: white !important;
      }

      /* Responsive modal */
      @media (max-width: 480px) {
        #admin-modal > div {
          margin: 20px;
          padding: 30px 20px;
          min-width: auto;
        }
      }
    </style>

    <script>
      // Configuration
      const ADMIN_PASSWORD = "admin123"; // Change ce mot de passe !

      // Ã‰lÃ©ments DOM
      const adminLink = document.getElementById("admin-link");
      const adminModal = document.getElementById("admin-modal");
      const adminPasswordInput = document.getElementById("admin-password");
      const adminLoginBtn = document.getElementById("admin-login");
      const adminCancelBtn = document.getElementById("admin-cancel");
      const adminError = document.getElementById("admin-error");

      // Ouvrir le modal
      adminLink.addEventListener("click", (e) => {
        e.preventDefault();
        adminModal.style.display = "block";
        adminPasswordInput.focus();
        adminError.style.display = "none";
        adminPasswordInput.value = "";
      });

      // Fermer le modal
      adminCancelBtn.addEventListener("click", () => {
        adminModal.style.display = "none";
      });

      // Fermer en cliquant Ã  l'extÃ©rieur
      adminModal.addEventListener("click", (e) => {
        if (e.target === adminModal) {
          adminModal.style.display = "none";
        }
      });

      // Connexion
      adminLoginBtn.addEventListener("click", () => {
        const password = adminPasswordInput.value.trim();

        if (password === ADMIN_PASSWORD) {
          // Connexion rÃ©ussie
          adminModal.style.display = "none";
          window.location.href = "admin.html";
        } else {
          // Mot de passe incorrect
          adminError.style.display = "block";
          adminPasswordInput.value = "";
          adminPasswordInput.focus();

          // Animation d'erreur
          adminPasswordInput.style.borderColor = "#e74c3c";
          adminPasswordInput.style.animation = "shake 0.5s ease-in-out";

          setTimeout(() => {
            adminPasswordInput.style.borderColor = "#bdc3c7";
            adminPasswordInput.style.animation = "";
          }, 500);
        }
      });

      // Connexion avec Enter
      adminPasswordInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          adminLoginBtn.click();
        }
      });

      // Fermer avec Escape
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && adminModal.style.display === "block") {
          adminModal.style.display = "none";
        }
      });

      // Animation de shake pour l'erreur
      const style = document.createElement("style");
      style.textContent = `
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }
`;
      document.head.appendChild(style);
    </script>
  </body>
</html>
